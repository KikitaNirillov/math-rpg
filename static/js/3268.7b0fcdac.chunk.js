"use strict";(self.webpackChunkrpg=self.webpackChunkrpg||[]).push([[3268],{3675:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var r=n(3531),i=n(5987),u=n(4136),s=n(4191),c=n(1997),a="cutscene_cutscene__fe1hW",o="cutscene_cutscene__slide__9Wra7",l="cutscene_cutscene__slide_img__4yWSk",f="cutscene_cutscene__slide_text__6Ox37",d=n(2791),p=n(8218),m=n(184),y=["removeCurrentSlideFromCutsceneList","setSceneWithTransition","setOpacity"],v=function(e){var t=e.removeCurrentSlideFromCutsceneList,n=e.setSceneWithTransition,r=e.setOpacity,v=(0,i.Z)(e,y);(0,d.useEffect)((function(){0!==v.unloadedImagesQuantity||v.currentSceneDidMount||setTimeout((function(){v.setCurrentSceneDidMount(!0)}),20)}),[v.unloadedImagesQuantity,v.currentSceneDidMount]);var g=v.slideList[0];return(0,m.jsxs)("div",{className:a,children:[g&&(0,m.jsxs)("div",{className:o,children:[(0,m.jsx)(p.Z,{src:g.img,alt:"slide image",className:l}),(0,m.jsx)("div",{className:f,children:(0,m.jsx)(s.Z,{text:g.text})})]}),v.typeWriterIsWriting?(0,m.jsx)(c.Z,{}):(0,m.jsx)("button",{className:"transparentAbsoluteBtn",onClick:function(){1===v.slideList.length?(n(v.nextSceneName),setTimeout((function(){t()}),u.vt)):(r(0),setTimeout((function(){t(),r(1)}),u.vt))}})]})},g=n(7429),S=(0,r.$j)((function(e){return{slideList:e.scene.currentCutscene.slideList,nextSceneName:e.scene.currentCutscene.nextSceneName,typeWriterIsWriting:e.game.typeWriterIsWriting,unloadedImagesQuantity:e.scene.unloadedImagesQuantity,currentSceneDidMount:e.scene.currentSceneDidMount}}),{setCurrentSceneDidMount:g.vZ,removeCurrentSlideFromCutsceneList:g.O6,setSceneWithTransition:g.Yv,setOpacity:g.b9})(v)},8218:function(e,t,n){var r=n(3531),i=n(7429),u=n(2791),s=n(184);t.Z=(0,r.$j)((function(e,t){return{src:t.src,alt:t.alt,className:t.className}}),{changeUnloadedImagesQuantity:i.YS})((function(e){var t=e.src,n=e.alt,r=void 0===n?"img":n,i=e.className,c=void 0===i?void 0:i,a=e.changeUnloadedImagesQuantity;return(0,u.useEffect)((function(){a("PLUS_ONE")}),[]),(0,s.jsx)("img",{src:t,alt:r,className:c,onLoad:function(){return a("MINUS_ONE")}})}))},4191:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(885),i=n(9236),u=n(2791),s=n.p+"static/media/typewriterSound.ce4a4f34ce9a80f79974.mp3",c=n(5995),a=n(8468),o=n(3531),l=n(184),f=(0,o.$j)((function(e,t){return(0,i.Z)((0,i.Z)({},t),{},{typeWriterIsWriting:e.game.typeWriterIsWriting,typeWriterStopped:e.game.typeWriterStopped})}),{setTypeWriterIsWriting:a.GR,setTypeWriterStopped:a.IJ})((function(e){var t=e.text,n=e.typeWriterStopped,i=e.setTypeWriterStopped,a=e.setTypeWriterIsWriting,o=e.whatToDoAtTheEnd,f=void 0===o?function(){}:o,d=(0,c.Z)(s),p=(0,r.Z)(d,2),m=p[0],y=p[1].stop,v=(0,u.useState)(""),g=(0,r.Z)(v,2),S=g[0],W=g[1],h=(0,u.useState)(0),_=(0,r.Z)(h,2),b=_[0],x=_[1],I=(0,u.useState)(!1),j=(0,r.Z)(I,2),C=j[0],N=j[1];return(0,u.useEffect)((function(){return function(){i(!1)}}),[]),(0,u.useEffect)((function(){i(!1),x(0),W(""),N(!1),a(!0)}),[t]),(0,u.useEffect)((function(){n&&(a(!1),f())}),[n]),(0,u.useEffect)((function(){n||setTimeout((function(){S.length!==t.length?setTimeout((function(){y(),n||m(),W(S+t.charAt(b)),N(!0),x(b+1)}),80):i(!0)}),C?0:300)}),[S]),(0,l.jsx)("p",{children:n?t:S})}))},1997:function(e,t,n){var r=n(8468),i=n(3531),u=n(184);t.Z=(0,i.$j)((function(e){return{typeWriterIsWriting:e.game.typeWriterIsWriting}}),{setTypeWriterStopped:r.IJ})((function(e){var t=e.setTypeWriterStopped,n=e.typeWriterIsWriting;return(0,u.jsx)("button",{className:"transparentAbsoluteBtn",style:{display:"".concat(n?"initial":"none")},onClick:function(){return t(!0)}})}))},5995:function(e,t,n){var r=n(2791);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}t.Z=function(e,t){void 0===t&&(t={});var u,s=t,c=s.volume,a=void 0===c?1:c,o=s.playbackRate,l=void 0===o?1:o,f=s.soundEnabled,d=void 0===f||f,p=s.interrupt,m=void 0!==p&&p,y=s.onload,v=function(e,t){if(null==e)return{};var n,r,i={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(s,["id","volume","playbackRate","soundEnabled","interrupt","onload"]),g=r.useRef(null),S=r.useRef(!1),W=r.useState(null),h=W[0],_=W[1],b=r.useState(null),x=b[0],I=b[1],j=function(){"function"===typeof y&&y.call(this),S.current&&_(1e3*this.duration()),I(this)};u=function(){return n.e(1845).then(n.t.bind(n,1845,23)).then((function(t){var n;S.current||(g.current=null!==(n=t.Howl)&&void 0!==n?n:t.default.Howl,S.current=!0,new g.current(i({src:Array.isArray(e)?e:[e],volume:a,rate:l,onload:j},v)))})),function(){S.current=!1}},(0,r.useEffect)(u,[]),r.useEffect((function(){g.current&&x&&I(new g.current(i({src:Array.isArray(e)?e:[e],volume:a,onload:j},v)))}),[JSON.stringify(e)]),r.useEffect((function(){x&&(x.volume(a),x.rate(l))}),[a,l]);var C=r.useCallback((function(e){"undefined"===typeof e&&(e={}),x&&(d||e.forceSoundEnabled)&&(m&&x.stop(),e.playbackRate&&x.rate(e.playbackRate),x.play(e.id))}),[x,d,m]),N=r.useCallback((function(e){x&&x.stop(e)}),[x]),T=r.useCallback((function(e){x&&x.pause(e)}),[x]);return[C,{sound:x,stop:N,pause:T,duration:h}]}}}]);
//# sourceMappingURL=3268.7b0fcdac.chunk.js.map