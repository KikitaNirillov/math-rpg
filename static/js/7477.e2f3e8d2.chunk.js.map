{"version":3,"file":"static/js/7477.e2f3e8d2.chunk.js","mappings":"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","sources":["webpack://rpg/./src/components/main/improvementScreen/improvementScreen.module.scss?628c","components/main/improvementScreen/improvementScreen.tsx","components/main/improvementScreen/improvementScreenContainer.tsx","components/renderImg.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"improvementScreen\":\"improvementScreen_improvementScreen__QTNsV\",\"improvementScreen__title\":\"improvementScreen_improvementScreen__title__3EI4g\",\"improvementScreen__moneyInfo\":\"improvementScreen_improvementScreen__moneyInfo__818GX\",\"improvementScreen__moneyInfo_currencyImg\":\"improvementScreen_improvementScreen__moneyInfo_currencyImg__NhQHZ\",\"improvementScreen__improvements\":\"improvementScreen_improvementScreen__improvements__ieEUU\",\"improvementScreen__improvements_list\":\"improvementScreen_improvementScreen__improvements_list__tHA1d\",\"improvementScreen__improvements_list_button\":\"improvementScreen_improvementScreen__improvements_list_button__ZU3Aa\",\"improvementScreen__improvements_list_button_img\":\"improvementScreen_improvementScreen__improvements_list_button_img__BRC0j\"};","import s from './improvementScreen.module.scss'\r\nimport damageImprovementImg from '@assets/imgs/improvements/increasedDamageDealtImg.png'\r\nimport protectionImprovementImg from '@assets/imgs/improvements/reductionOfDamageReceivedImg.png'\r\nimport timeImprovementImg from '@assets/imgs/improvements/increasedProtectionTimeImg.png'\r\nimport { useEffect, useState } from 'react'\r\nimport { ImprovementScreenProps } from './improvementScreenContainer'\r\nimport { Improvement } from 'commonTypes'\r\nimport settings from 'settings'\r\nimport RenderImg from 'components/renderImg'\r\n\r\ntype FocusImprovement = 'none' | 'damageImprovement' | 'protectionImprovement' | 'timeImprovement'\r\nconst improvementInfo = {\r\n    damageImprovement: {\r\n        description: '(Increase damage dealt by 2x)',\r\n        img: damageImprovementImg,\r\n    },\r\n    protectionImprovement: {\r\n        description: '(Reduce damage taken by 2x)',\r\n        img: protectionImprovementImg,\r\n    },\r\n    timeImprovement: {\r\n        description: '(Increase defense time by 1,5x)',\r\n        img: timeImprovementImg,\r\n    },\r\n}\r\n\r\nconst ImprovementScreen: React.FC<ImprovementScreenProps> = ({ getImprovement, setSceneWithTransition, ...props }) => {\r\n    useEffect(() => {\r\n        if (props.unloadedImagesQuantity === 0 && !props.currentSceneDidMount) {\r\n            setTimeout(() => {\r\n                props.setCurrentSceneDidMount(true)\r\n            }, settings.delayForScenes)\r\n        }\r\n    }, [props.unloadedImagesQuantity, props.currentSceneDidMount])\r\n\r\n    const [focusImprovement, setFocusImprovement] = useState<FocusImprovement>('none')\r\n    const improvementButton = (improvementName: Improvement) => {\r\n        return (\r\n            <button className={s.improvementScreen__improvements_list_button}\r\n                key={improvementName}\r\n                onMouseOver={() => setFocusImprovement(improvementName)}\r\n                onMouseLeave={() => setFocusImprovement('none')}\r\n                onClick={() => {\r\n                    setSceneWithTransition('LocationMap')\r\n                    setTimeout(() => getImprovement(improvementName), settings.opacityTransition)\r\n                }}\r\n            >\r\n                <RenderImg src={improvementInfo[improvementName].img} alt={improvementName} className={s.improvementScreen__improvements_list_button_img} />\r\n            </button>\r\n        )\r\n    }\r\n    return (\r\n        <div className={s.improvementScreen}>\r\n            <h2 className={s.improvementScreen__title}>Enemy is overcome!</h2>\r\n            <div className={s.improvementScreen__moneyInfo}>\r\n                <p className={s.improvementScreen__moneyInfo_text}>You get 3</p>\r\n                <RenderImg src={props.currencyImg} alt='currency on this location' className={s.improvementScreen__moneyInfo_currencyImg} />\r\n            </div>\r\n            <div className={s.improvementScreen__improvements}>\r\n                <p className={s.improvementScreen__improvements_text}>\r\n                    Also, you get improvement for current location! Choose one of the available:\r\n                </p>\r\n                <div className={s.improvementScreen__improvements_list}>\r\n                    {props.availableImprovements.map(improvement => improvementButton(improvement))}\r\n                </div>\r\n                <p>{\r\n                    (focusImprovement !== 'none' ? improvementInfo[focusImprovement].description : \"(You can't not take anything)\")\r\n                }</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default ImprovementScreen","import { AppStateType } from \"@redux/store\"\r\nimport { connect } from \"react-redux\"\r\nimport ImprovementScreen from \"./improvementScreen\"\r\nimport { getImprovement } from \"@redux/playerReducer\"\r\nimport { Improvement } from \"commonTypes\"\r\nimport { setSceneWithTransition, setCurrentSceneDidMount } from \"@redux/sceneReducer\"\r\nimport { SceneName } from \"scenes\"\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    currencyImg: state.location.currencyImg,\r\n    availableImprovements: state.location.availableImprovements,\r\n    unloadedImagesQuantity: state.scene.unloadedImagesQuantity,\r\n    currentSceneDidMount: state.scene.currentSceneDidMount,\r\n})\r\n\r\ntype MapDispatchToProps = {\r\n    getImprovement: (improvementName: Improvement) => void\r\n    setSceneWithTransition: (scene: SceneName) => void\r\n    setCurrentSceneDidMount: (didMount: boolean) => void\r\n}\r\n\r\nexport type ImprovementScreenProps = ReturnType<typeof mapStateToProps> & MapDispatchToProps\r\n\r\nexport default connect(mapStateToProps, { getImprovement, setSceneWithTransition, setCurrentSceneDidMount })(ImprovementScreen)","import { connect } from \"react-redux\"\r\nimport { changeUnloadedImagesQuantity } from \"@redux/sceneReducer\"\r\nimport { AppStateType } from \"@redux/store\"\r\nimport { useEffect, useState } from \"react\"\r\n\r\ntype RenderImgOwnProps = {\r\n    src: string | undefined\r\n    alt?: string\r\n    className?: string\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType, ownProps: RenderImgOwnProps) => ({\r\n    src: ownProps.src,\r\n    alt: ownProps.alt,\r\n    className: ownProps.className\r\n})\r\n\r\ntype MapDispatchToProps = {\r\n    changeUnloadedImagesQuantity: (action: \"PLUS_ONE\" | \"MINUS_ONE\") => void\r\n}\r\n\r\ntype RenderImgProps = ReturnType<typeof mapStateToProps> & MapDispatchToProps\r\n\r\nconst RenderImg: React.FC<RenderImgProps> = ({ src, alt = 'img', className = undefined, changeUnloadedImagesQuantity }) => {\r\n\r\n    useEffect(() => {\r\n        changeUnloadedImagesQuantity(\"PLUS_ONE\")\r\n    }, [])\r\n\r\n    return (\r\n        <img src={src} alt={alt} className={className} onLoad={() => changeUnloadedImagesQuantity(\"MINUS_ONE\")} />\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, { changeUnloadedImagesQuantity })(RenderImg)"],"names":["improvementInfo","damageImprovement","description","img","protectionImprovement","timeImprovement","_ref","getImprovement","setSceneWithTransition","props","_objectWithoutProperties","_excluded","useEffect","unloadedImagesQuantity","currentSceneDidMount","setTimeout","setCurrentSceneDidMount","settings","_useState","useState","_useState2","_slicedToArray","focusImprovement","setFocusImprovement","_jsxs","className","s","children","_jsx","RenderImg","src","currencyImg","alt","availableImprovements","map","improvement","improvementName","onMouseOver","onMouseLeave","onClick","connect","state","location","scene","ImprovementScreen","ownProps","changeUnloadedImagesQuantity","_ref$alt","_ref$className","undefined","onLoad"],"sourceRoot":""}