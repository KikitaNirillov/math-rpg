"use strict";(self.webpackChunkrpg=self.webpackChunkrpg||[]).push([[3268],{3675:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(3531),i=n(5987),u=n(4136),s=n(4191),c=n(1997),a="cutscene_cutscene__fe1hW",o="cutscene_cutscene__slide__9Wra7",l="cutscene_cutscene__slide_img__4yWSk",f="cutscene_cutscene__slide_text__6Ox37",d=n(2791),p=n(8218),v=n(184),y=["removeCurrentSlideFromCutsceneList","setSceneWithTransition","setOpacity"],m=function(e){var t=e.removeCurrentSlideFromCutsceneList,n=e.setSceneWithTransition,r=e.setOpacity,m=(0,i.Z)(e,y);(0,d.useEffect)((function(){return m.setCurrentSceneDidMount(!0),function(){return m.setCurrentSceneDidMount(!1)}}),[]);var W=m.slideList[0];return(0,v.jsxs)("div",{className:a,children:[W&&(0,v.jsxs)("div",{className:o,children:[(0,v.jsx)(p.Z,{src:W.img,alt:"slide image",className:l}),(0,v.jsx)("div",{className:f,children:(0,v.jsx)(s.Z,{text:W.text})})]}),m.typeWriterIsWriting?(0,v.jsx)(c.Z,{}):(0,v.jsx)("button",{className:"transparentAbsoluteBtn",onClick:function(){1===m.slideList.length?(n(m.nextSceneName),setTimeout((function(){t()}),u.vt)):(r(0),setTimeout((function(){t(),r(1)}),u.vt))}})]})},W=n(7429),g=(0,r.$j)((function(e){return{slideList:e.scene.currentCutscene.slideList,nextSceneName:e.scene.currentCutscene.nextSceneName,typeWriterIsWriting:e.game.typeWriterIsWriting}}),{setCurrentSceneDidMount:W.vZ,removeCurrentSlideFromCutsceneList:W.O6,setSceneWithTransition:W.Yv,setOpacity:W.b9})(m)},8218:function(e,t,n){var r=n(3531),i=n(7429),u=n(2791),s=n(184);t.Z=(0,r.$j)((function(e,t){return{src:t.src,alt:t.alt,className:t.className}}),{changeUnloadedImagesQuantity:i.YS})((function(e){var t=e.src,n=e.alt,r=void 0===n?"img":n,i=e.className,c=void 0===i?void 0:i,a=e.changeUnloadedImagesQuantity;return(0,u.useEffect)((function(){a("PLUS_ONE")}),[]),(0,s.jsx)("img",{src:t,alt:r,className:c,onLoad:function(){return a("MINUS_ONE")}})}))},4191:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(885),i=n(9236),u=n(2791),s=n.p+"static/media/typewriterSound.ce4a4f34ce9a80f79974.mp3",c=n(5995),a=n(8468),o=n(3531),l=n(184),f=(0,o.$j)((function(e,t){return(0,i.Z)((0,i.Z)({},t),{},{typeWriterIsWriting:e.game.typeWriterIsWriting,typeWriterStopped:e.game.typeWriterStopped})}),{setTypeWriterIsWriting:a.GR,setTypeWriterStopped:a.IJ})((function(e){var t=e.text,n=e.typeWriterStopped,i=e.setTypeWriterStopped,a=e.setTypeWriterIsWriting,o=e.whatToDoAtTheEnd,f=void 0===o?function(){}:o,d=(0,c.Z)(s),p=(0,r.Z)(d,2),v=p[0],y=p[1].stop,m=(0,u.useState)(""),W=(0,r.Z)(m,2),g=W[0],S=W[1],h=(0,u.useState)(0),_=(0,r.Z)(h,2),b=_[0],x=_[1],C=(0,u.useState)(!1),j=(0,r.Z)(C,2),N=j[0],Z=j[1];return(0,u.useEffect)((function(){return function(){i(!1)}}),[]),(0,u.useEffect)((function(){i(!1),x(0),S(""),Z(!1),a(!0)}),[t]),(0,u.useEffect)((function(){n&&(a(!1),f())}),[n]),(0,u.useEffect)((function(){n||setTimeout((function(){g.length!==t.length?setTimeout((function(){y(),n||v(),S(g+t.charAt(b)),Z(!0),x(b+1)}),80):i(!0)}),N?0:300)}),[g]),(0,l.jsx)("p",{children:n?t:g})}))},1997:function(e,t,n){var r=n(8468),i=n(3531),u=n(184);t.Z=(0,i.$j)((function(e){return{typeWriterIsWriting:e.game.typeWriterIsWriting}}),{setTypeWriterStopped:r.IJ})((function(e){var t=e.setTypeWriterStopped,n=e.typeWriterIsWriting;return(0,u.jsx)("button",{className:"transparentAbsoluteBtn",style:{display:"".concat(n?"initial":"none")},onClick:function(){return t(!0)}})}))},5995:function(e,t,n){var r=n(2791);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}t.Z=function(e,t){void 0===t&&(t={});var u,s=t,c=s.volume,a=void 0===c?1:c,o=s.playbackRate,l=void 0===o?1:o,f=s.soundEnabled,d=void 0===f||f,p=s.interrupt,v=void 0!==p&&p,y=s.onload,m=function(e,t){if(null==e)return{};var n,r,i={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(s,["id","volume","playbackRate","soundEnabled","interrupt","onload"]),W=r.useRef(null),g=r.useRef(!1),S=r.useState(null),h=S[0],_=S[1],b=r.useState(null),x=b[0],C=b[1],j=function(){"function"===typeof y&&y.call(this),g.current&&_(1e3*this.duration()),C(this)};u=function(){return n.e(1845).then(n.t.bind(n,1845,23)).then((function(t){var n;g.current||(W.current=null!==(n=t.Howl)&&void 0!==n?n:t.default.Howl,g.current=!0,new W.current(i({src:Array.isArray(e)?e:[e],volume:a,rate:l,onload:j},m)))})),function(){g.current=!1}},(0,r.useEffect)(u,[]),r.useEffect((function(){W.current&&x&&C(new W.current(i({src:Array.isArray(e)?e:[e],volume:a,onload:j},m)))}),[JSON.stringify(e)]),r.useEffect((function(){x&&(x.volume(a),x.rate(l))}),[a,l]);var N=r.useCallback((function(e){"undefined"===typeof e&&(e={}),x&&(d||e.forceSoundEnabled)&&(v&&x.stop(),e.playbackRate&&x.rate(e.playbackRate),x.play(e.id))}),[x,d,v]),Z=r.useCallback((function(e){x&&x.stop(e)}),[x]),k=r.useCallback((function(e){x&&x.pause(e)}),[x]);return[N,{sound:x,stop:Z,pause:k,duration:h}]}}}]);
//# sourceMappingURL=3268.29e7be9d.chunk.js.map