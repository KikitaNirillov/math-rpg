{"version":3,"file":"static/js/7477.c284ef70.chunk.js","mappings":"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","sources":["webpack://math_rpg/./src/components/main/improvementScreen/improvementScreen.module.scss?628c","components/main/improvementScreen/improvementScreen.tsx","components/main/improvementScreen/improvementScreenContainer.tsx","components/renderImg.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"improvementScreen\":\"improvementScreen_improvementScreen__QTNsV\",\"improvementScreen__title\":\"improvementScreen_improvementScreen__title__3EI4g\",\"improvementScreen__moneyInfo\":\"improvementScreen_improvementScreen__moneyInfo__818GX\",\"improvementScreen__moneyInfo_currencyImg\":\"improvementScreen_improvementScreen__moneyInfo_currencyImg__NhQHZ\",\"improvementScreen__improvements\":\"improvementScreen_improvementScreen__improvements__ieEUU\",\"improvementScreen__improvements_list\":\"improvementScreen_improvementScreen__improvements_list__tHA1d\",\"improvementScreen__improvements_list_button\":\"improvementScreen_improvementScreen__improvements_list_button__ZU3Aa\",\"improvementScreen__improvements_list_button_img\":\"improvementScreen_improvementScreen__improvements_list_button_img__BRC0j\"};","import s from './improvementScreen.module.scss'\r\nimport damageImprovementImg from '@assets/imgs/improvements/increasedDamageDealtImg.png'\r\nimport protectionImprovementImg from '@assets/imgs/improvements/reductionOfDamageReceivedImg.png'\r\nimport timeImprovementImg from '@assets/imgs/improvements/increasedProtectionTimeImg.png'\r\nimport { useEffect, useState } from 'react'\r\nimport { ImprovementScreenProps } from './improvementScreenContainer'\r\nimport { Improvement } from 'commonTypes'\r\nimport settings from 'settings'\r\nimport RenderImg from 'components/renderImg'\r\n\r\ntype FocusImprovement = 'none' | 'damageImprovement' | 'protectionImprovement' | 'timeImprovement'\r\nconst improvementInfo = {\r\n    damageImprovement: {\r\n        description: '(Increase damage dealt by 2x)',\r\n        img: damageImprovementImg,\r\n    },\r\n    protectionImprovement: {\r\n        description: '(Reduce damage taken by 2x)',\r\n        img: protectionImprovementImg,\r\n    },\r\n    timeImprovement: {\r\n        description: '(Increase defense time by 1,5x)',\r\n        img: timeImprovementImg,\r\n    },\r\n}\r\n\r\nconst ImprovementScreen: React.FC<ImprovementScreenProps> = ({ getImprovement, setSceneWithTransition, ...props }) => {\r\n    useEffect(() => {\r\n        if (props.unloadedImagesQuantity === 0 && !props.currentSceneDidMount) {\r\n            setTimeout(() => {\r\n                props.setCurrentSceneDidMount(true)\r\n            }, settings.delayForScenes)\r\n        }\r\n    }, [props.unloadedImagesQuantity, props.currentSceneDidMount])\r\n\r\n    const [focusImprovement, setFocusImprovement] = useState<FocusImprovement>('none')\r\n    const improvementButton = (improvementName: Improvement) => {\r\n        return (\r\n            <button className={s.improvementScreen__improvements_list_button}\r\n                key={improvementName}\r\n                onMouseOver={() => setFocusImprovement(improvementName)}\r\n                onMouseLeave={() => setFocusImprovement('none')}\r\n                onClick={() => {\r\n                    setSceneWithTransition('LocationMap')\r\n                    setTimeout(() => getImprovement(improvementName), settings.opacityTransition)\r\n                }}\r\n            >\r\n                <RenderImg src={improvementInfo[improvementName].img} alt={improvementName} className={s.improvementScreen__improvements_list_button_img} />\r\n            </button>\r\n        )\r\n    }\r\n    return (\r\n        <div className={s.improvementScreen}>\r\n            <h2 className={s.improvementScreen__title}>Enemy is overcome!</h2>\r\n            <div className={s.improvementScreen__moneyInfo}>\r\n                <p className={s.improvementScreen__moneyInfo_text}>You get 3</p>\r\n                <RenderImg src={props.currencyImg} alt='currency on this location' className={s.improvementScreen__moneyInfo_currencyImg} />\r\n            </div>\r\n            <div className={s.improvementScreen__improvements}>\r\n                <p className={s.improvementScreen__improvements_text}>\r\n                    Also, you get improvement for current location! Choose one of the available:\r\n                </p>\r\n                <div className={s.improvementScreen__improvements_list}>\r\n                    {props.availableImprovements.map(improvement => improvementButton(improvement))}\r\n                </div>\r\n                <p>{\r\n                    (focusImprovement !== 'none' ? improvementInfo[focusImprovement].description : \"(You can't not take anything)\")\r\n                }</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default ImprovementScreen","import { AppStateType } from \"@redux/store\"\r\nimport { connect } from \"react-redux\"\r\nimport ImprovementScreen from \"./improvementScreen\"\r\nimport { getImprovement } from \"@redux/playerReducer\"\r\nimport { Improvement } from \"commonTypes\"\r\nimport { setSceneWithTransition, setCurrentSceneDidMount } from \"@redux/sceneReducer\"\r\nimport { SceneName } from \"scenes\"\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    currencyImg: state.location.currencyImg,\r\n    availableImprovements: state.location.availableImprovements,\r\n    unloadedImagesQuantity: state.scene.unloadedImagesQuantity,\r\n    currentSceneDidMount: state.scene.currentSceneDidMount,\r\n})\r\n\r\ntype MapDispatchToProps = {\r\n    getImprovement: (improvementName: Improvement) => void\r\n    setSceneWithTransition: (scene: SceneName) => void\r\n    setCurrentSceneDidMount: (didMount: boolean) => void\r\n}\r\n\r\nexport type ImprovementScreenProps = ReturnType<typeof mapStateToProps> & MapDispatchToProps\r\n\r\nexport default connect(mapStateToProps, { getImprovement, setSceneWithTransition, setCurrentSceneDidMount })(ImprovementScreen)","import { connect } from \"react-redux\"\r\nimport { changeUnloadedImagesQuantity } from \"@redux/sceneReducer\"\r\nimport { AppStateType } from \"@redux/store\"\r\nimport { useEffect, useState } from \"react\"\r\n\r\ntype RenderImgOwnProps = {\r\n    src: string | undefined\r\n    alt?: string\r\n    className?: string\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType, ownProps: RenderImgOwnProps) => ({\r\n    src: ownProps.src,\r\n    alt: ownProps.alt,\r\n    className: ownProps.className\r\n})\r\n\r\ntype MapDispatchToProps = {\r\n    changeUnloadedImagesQuantity: (action: \"PLUS_ONE\" | \"MINUS_ONE\") => void\r\n}\r\n\r\ntype RenderImgProps = ReturnType<typeof mapStateToProps> & MapDispatchToProps\r\n\r\nconst RenderImg: React.FC<RenderImgProps> = ({ src, alt = 'img', className = undefined, changeUnloadedImagesQuantity }) => {\r\n\r\n    useEffect(() => {\r\n        changeUnloadedImagesQuantity(\"PLUS_ONE\")\r\n    }, [])\r\n\r\n    return (\r\n        <img src={src} alt={alt} className={className} onLoad={() => changeUnloadedImagesQuantity(\"MINUS_ONE\")} />\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, { changeUnloadedImagesQuantity })(RenderImg)"],"names":["improvementInfo","damageImprovement","description","img","protectionImprovement","timeImprovement","_ref","getImprovement","setSceneWithTransition","props","_objectWithoutProperties","_excluded","useEffect","unloadedImagesQuantity","currentSceneDidMount","setTimeout","setCurrentSceneDidMount","settings","delayForScenes","_useState","useState","_useState2","_slicedToArray","focusImprovement","setFocusImprovement","_jsxs","className","s","improvementScreen","children","_jsx","improvementScreen__title","improvementScreen__moneyInfo","improvementScreen__moneyInfo_text","RenderImg","src","currencyImg","alt","improvementScreen__moneyInfo_currencyImg","improvementScreen__improvements","improvementScreen__improvements_text","improvementScreen__improvements_list","availableImprovements","map","improvement","improvementName","improvementScreen__improvements_list_button","onMouseOver","onMouseLeave","onClick","opacityTransition","improvementScreen__improvements_list_button_img","connect","state","location","scene","ImprovementScreen","ownProps","changeUnloadedImagesQuantity","_ref$alt","_ref$className","undefined","onLoad"],"sourceRoot":""}