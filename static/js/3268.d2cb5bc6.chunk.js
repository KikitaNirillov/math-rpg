"use strict";(self.webpackChunkrpg=self.webpackChunkrpg||[]).push([[3268],{3675:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var r=n(3531),i=n(5987),u=n(4136),s=n(4191),c=n(1997),a="cutscene_cutscene__fe1hW",o="cutscene_cutscene__slide__9Wra7",l="cutscene_cutscene__slide_img__4yWSk",d="cutscene_cutscene__slide_text__6Ox37",f=n(2791),p=n(8218),y=n(184),m=["removeCurrentSlideFromCutsceneList","setSceneWithTransition","setOpacity"],v=function(e){var t=e.removeCurrentSlideFromCutsceneList,n=e.setSceneWithTransition,r=e.setOpacity,v=(0,i.Z)(e,m);(0,f.useEffect)((function(){0!==v.unloadedImagesQuantity||v.currentSceneDidMount||setTimeout((function(){v.setCurrentSceneDidMount(!0)}),u.Z.delayForScenes)}),[v.unloadedImagesQuantity,v.currentSceneDidMount]);var g=v.slideList[0];return(0,y.jsxs)("div",{className:a,children:[g&&(0,y.jsxs)("div",{className:o,children:[(0,y.jsx)(p.Z,{src:g.img,alt:"slide image",className:l}),(0,y.jsx)("div",{className:d,children:(0,y.jsx)(s.Z,{text:g.text})})]}),v.typeWriterIsWriting?(0,y.jsx)(c.Z,{}):(0,y.jsx)("button",{className:"transparentAbsoluteBtn",onClick:function(){1===v.slideList.length?(n(v.nextSceneName),setTimeout((function(){t()}),u.Z.opacityTransition)):(r(0),setTimeout((function(){t(),r(1)}),u.Z.opacityTransition))}})]})},g=n(7429),S=(0,r.$j)((function(e){return{slideList:e.scene.currentCutscene.slideList,nextSceneName:e.scene.currentCutscene.nextSceneName,typeWriterIsWriting:e.game.typeWriterIsWriting,unloadedImagesQuantity:e.scene.unloadedImagesQuantity,currentSceneDidMount:e.scene.currentSceneDidMount}}),{setCurrentSceneDidMount:g.vZ,removeCurrentSlideFromCutsceneList:g.O6,setSceneWithTransition:g.Yv,setOpacity:g.b9})(v)},8218:function(e,t,n){var r=n(3531),i=n(7429),u=n(2791),s=n(184);t.Z=(0,r.$j)((function(e,t){return{src:t.src,alt:t.alt,className:t.className}}),{changeUnloadedImagesQuantity:i.YS})((function(e){var t=e.src,n=e.alt,r=void 0===n?"img":n,i=e.className,c=void 0===i?void 0:i,a=e.changeUnloadedImagesQuantity;return(0,u.useEffect)((function(){a("PLUS_ONE")}),[]),(0,s.jsx)("img",{src:t,alt:r,className:c,onLoad:function(){return a("MINUS_ONE")}})}))},4191:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(885),i=n(9236),u=n(2791),s=n.p+"static/media/typewriterSound.ce4a4f34ce9a80f79974.mp3",c=n(5995),a=n(8468),o=n(3531),l=n(184),d=(0,o.$j)((function(e,t){return(0,i.Z)((0,i.Z)({},t),{},{typeWriterIsWriting:e.game.typeWriterIsWriting,typeWriterStopped:e.game.typeWriterStopped,opacity:e.scene.opacity})}),{setTypeWriterIsWriting:a.GR,setTypeWriterStopped:a.IJ})((function(e){var t=e.text,n=e.typeWriterStopped,i=e.opacity,a=e.setTypeWriterStopped,o=e.setTypeWriterIsWriting,d=e.whatToDoAtTheEnd,f=void 0===d?function(){}:d,p=(0,c.Z)(s),y=(0,r.Z)(p,2),m=y[0],v=y[1].stop,g=(0,u.useState)(""),S=(0,r.Z)(g,2),W=S[0],h=S[1],_=(0,u.useState)(0),b=(0,r.Z)(_,2),x=b[0],I=b[1],Z=(0,u.useState)(!1),T=(0,r.Z)(Z,2),j=T[0],C=T[1];return(0,u.useEffect)((function(){return function(){a(!1)}}),[]),(0,u.useEffect)((function(){a(!1),I(0),h(""),C(!1),o(!0)}),[t]),(0,u.useEffect)((function(){n&&(o(!1),f())}),[n]),(0,u.useEffect)((function(){n||1!==i||setTimeout((function(){W.length!==t.length?setTimeout((function(){v(),n||m(),h(W+t.charAt(x)),C(!0),I(x+1)}),80):a(!0)}),j?0:300)}),[W,i]),(0,l.jsx)("p",{children:n?t:W})}))},1997:function(e,t,n){var r=n(8468),i=n(3531),u=n(184);t.Z=(0,i.$j)((function(e){return{typeWriterIsWriting:e.game.typeWriterIsWriting}}),{setTypeWriterStopped:r.IJ})((function(e){var t=e.setTypeWriterStopped,n=e.typeWriterIsWriting;return(0,u.jsx)("button",{className:"transparentAbsoluteBtn",style:{display:"".concat(n?"initial":"none")},onClick:function(){return t(!0)}})}))},5995:function(e,t,n){var r=n(2791);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}t.Z=function(e,t){void 0===t&&(t={});var u,s=t,c=s.volume,a=void 0===c?1:c,o=s.playbackRate,l=void 0===o?1:o,d=s.soundEnabled,f=void 0===d||d,p=s.interrupt,y=void 0!==p&&p,m=s.onload,v=function(e,t){if(null==e)return{};var n,r,i={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(s,["id","volume","playbackRate","soundEnabled","interrupt","onload"]),g=r.useRef(null),S=r.useRef(!1),W=r.useState(null),h=W[0],_=W[1],b=r.useState(null),x=b[0],I=b[1],Z=function(){"function"===typeof m&&m.call(this),S.current&&_(1e3*this.duration()),I(this)};u=function(){return n.e(1845).then(n.t.bind(n,1845,23)).then((function(t){var n;S.current||(g.current=null!==(n=t.Howl)&&void 0!==n?n:t.default.Howl,S.current=!0,new g.current(i({src:Array.isArray(e)?e:[e],volume:a,rate:l,onload:Z},v)))})),function(){S.current=!1}},(0,r.useEffect)(u,[]),r.useEffect((function(){g.current&&x&&I(new g.current(i({src:Array.isArray(e)?e:[e],volume:a,onload:Z},v)))}),[JSON.stringify(e)]),r.useEffect((function(){x&&(x.volume(a),x.rate(l))}),[a,l]);var T=r.useCallback((function(e){"undefined"===typeof e&&(e={}),x&&(f||e.forceSoundEnabled)&&(y&&x.stop(),e.playbackRate&&x.rate(e.playbackRate),x.play(e.id))}),[x,f,y]),j=r.useCallback((function(e){x&&x.stop(e)}),[x]),C=r.useCallback((function(e){x&&x.pause(e)}),[x]);return[T,{sound:x,stop:j,pause:C,duration:h}]}}}]);
//# sourceMappingURL=3268.d2cb5bc6.chunk.js.map